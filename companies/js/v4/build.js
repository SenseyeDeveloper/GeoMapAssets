!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),i=n(5);class r{match(e){return!0}empty(){return!0}criteria(){return[]}}t.EmptyFilterMatch=r;class a{constructor(e){this._criteria=e}empty(){return!1}criteria(){return this._criteria}}t.FilledFilterMatch=a;t.MergeMatcher=class{constructor(e,t){this.source=e,this.next=t}match(e){return this.source.match(e)&&this.next.match(e)}};t.MultiSelectFilterMatch=class extends a{constructor(e){super(e),this.aliasMap=s.createAliasMap(e)}};class o extends a{constructor(e,t,n){super(e),this.aliasMap=s.createAliasMap(t),this.state=n}match(e){return this.aliasMap.hasOwnProperty(e.alias)===this.state}}t.SameAliasFilterMatch=o;t.AliasFilterMatchBuilder=class{constructor(e){this.$element=e}build(){const e=i.createAliasStateMapByCheckboxes($("input",this.$element));return e.selected.length>0?new o(e.aliasStateMap,e.selected,!0):e.disabled.length>0?new o(e.aliasStateMap,e.disabled,!1):new r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EmptyStateModifier=class{modify(e){return e}empty(){return!0}criteria(){return[]}};t.FilledStateModifier=class{constructor(e){this._criteria=e}empty(){return!1}criteria(){return this._criteria}};t.MergeModifier=class{constructor(e,t){this.source=e,this.next=t}modify(e){const t=this.source.modify(e);return null===t?null:this.next.modify(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CheckboxComponent=class{constructor(e,t){this.$element=e,"1"===t&&this.$element.attr("checked","checked")}checked(){return this.$element.is(":checked")}criteria(){return"1"}}},function(e,t,n){"use strict";function s(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),s(n(7)),s(n(8)),s(n(9)),s(n(10)),s(n(12)),s(n(0)),s(n(1)),s(n(2)),s(n(13)),s(n(14)),s(n(4)),s(n(15)),s(n(16)),s(n(6)),s(n(17)),s(n(18)),s(n(19)),s(n(5));const i=n(0),r=n(1);t.ApiClient=class{constructor(e){this.url=e}data(e,t){fetch(this.url).then(e=>e.json()).then(e).catch(t)}};t.SyncState=class{constructor(e){this.completeHandler=e,this.map=null,this.data=null}setMap(e){this.map=e,this.sync()}setData(e){this.data=e,this.sync()}sync(){null!==this.map&&null!==this.data&&(0,this.completeHandler)(this.data,this.map)}};class a{constructor(){this.loaded=!1,this.handler=null}handle(){if(null===this.handler)this.loaded=!0;else{(0,this.handler)()}}on(e){this.loaded?e():this.handler=e}}t.LoadHandler=a,t.createSyncHandler=function(){const e=new a,t=function(){e.handle()};return t.on=function(t){e.on(t)},t};t.EmptyDataViewer=class{render(e){}};class o{render(e){}}t.EmptyMapViewer=o;class c{constructor(e,t){this.locationGrouper=e,this.map=t,this.marker=[]}render(e){this.clear();const t=this.locationGrouper.group(e.getResult()),n=t.map;for(let e in n)if(n.hasOwnProperty(e))for(let s in n[e])if(n[e].hasOwnProperty(s)){const n=t.fetch(e,s),i=new google.maps.LatLng(e,s),r=new google.maps.Marker({position:i,map:this.map,title:n.getTitle()});this.click(r,n),this.marker.push(r)}}click(e,t){const n=this.map;google.maps.event.addListener(e,"click",function(){new google.maps.InfoWindow({content:t.getContent()}).open(n,e)})}clear(){for(let e=0;e<this.marker.length;e++){const t=this.marker[e];t.setMap(null),google.maps.event.clearListeners(t,"click")}}}t.FilledMapViewer=c;t.MapViewerManager=class{constructor(e){this.locationGrouper=e,this.mapViewer=new o}setMap(e){this.mapViewer=new c(this.locationGrouper,e)}render(e){this.mapViewer.render(e)}};t.StatsViewer=class{render(e){}};t.EmptyCloseComponent=class{close(){}};function l(e,t,n){const s=function(e){const t=[];return e.each(function(){const e=$(this),n=e.attr("data-alias");e.is(":checked")&&t.push(n)}),t}(e);return s.length>0&&s.length<e.length?new t(s):new n}t.AutocompletedCheckboxListView=class{constructor(e,t){const n=this;this.$element=e,this.componentAlias=t,this.aliasMap={},e.on("click",".js-remove",function(e){const t=$(e.target).closest("p"),s=$("input",t).attr("data-alias");t.remove(),n.remove(s)})}addChecked(e,t){this.aliasMap.hasOwnProperty(t)||(this.$element.append(this.renderCheckbox(e,t,!0)),this.aliasMap[t]=!0)}render(e,t){if(null===t)return;const n=[];for(let s=0;s<e.length;s++){const i=e[s];t.hasOwnProperty(i.alias)&&(n.push(this.renderCheckbox(i.name,i.alias,!0===t[i.alias])),this.aliasMap[i.alias]=!0)}this.$element.append(n.join(""))}renderCheckbox(e,t,n){let s="";n&&(s="checked");const i=`js-${this.componentAlias}-input-${t}`;return`<p>\n    <label for="${i}">\n        <input type="checkbox" id="${i}" ${s} data-alias="${t}" />\n        <span>${e} <span class="badge js-remove">x</span></span>\n    </label>\n</p>`}remove(e){delete this.aliasMap[e]}},t.buildFilterMatchByCheckboxes=function(e,t){return l(e,t,i.EmptyFilterMatch)},t.buildStateModifierByCheckboxes=function(e,t){return l(e,t,r.EmptyStateModifier)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAliasMap=function(e){const t={};for(let n=0;n<e.length;n++)t[e[n]]=!0;return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e,t,n){this.aliasStateMap=e,this.selected=t,this.disabled=n}}t.AliasStateMap=s,t.createAliasStateMapByCheckboxes=function(e){const t=[],n=[],i={};return e.each(function(){const e=$(this),s=e.attr("data-alias"),r=e.is(":checked");i[s]=r,r?t.push(s):n.push(s)}),new s(i,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ResultContainer=class{constructor(e,t,n){this.result=e,this.criteriaMap=t,this.duration=n}getCount(){return this.result.length}getResult(){return this.result}getDuration(){return this.duration}getCriteriaMap(){return this.criteriaMap}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Location=class{constructor(e,t){this.latitude=e,this.longitude=t}},t.distance=function(e,t){const n=e.latitude-t.latitude,s=e.longitude-t.longitude;return n*n+s*s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.IdentityCriteriaConverter=class{unmarshal(e){return e}marshal(e){return e}};t.RangeCriteriaConverter=class{constructor(){this.delimiter="-"}unmarshal(e){const t=e.split(this.delimiter),n=parseInt(t[0],10);if(2===t.length){const e=parseInt(t[1],10);return e>0&&e>=n?{from:n,to:e}:null}return n>0?{from:n,to:0}:0}marshal({from:e,to:t}){const n=[e];return t>0&&n.push(t),n.join(this.delimiter)}};t.MultiSelectCriteriaConverter=class{constructor(){this.delimiter=","}unmarshal(e){return""!==e?e.split(this.delimiter):null}marshal(e){return 0===e.length?"":e.join(this.delimiter)}};t.MultiCheckboxCriteriaConverter=class{constructor(){this.suffix="-unchecked"}unmarshal(e){if(""!==e){const t=e.split(","),n={};for(let e=0;e<t.length;e++){const s=t[e];s.endsWith(this.suffix)?n[s.substring(0,s.length-this.suffix.length)]=!1:n[s]=!0}return n}return null}marshal(e){const t=[];for(let n in e)if(e.hasOwnProperty(n)){const s=e[n];!0===s?t.push(n):!1===s?t.push(n+this.suffix):console.error(`wrong state for "${n}" = "${s}"`)}return t.join(",")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UniqueKeyChecker=class{constructor(){this.map={},this.list=[]}unique(e){if(this.map.hasOwnProperty(e))throw new Error(`already exists: ${e}`);return this.map[e]=!0,this.list.push(e),e}keys(){return this.list}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(11),i="center";t.UrlStateContainer=class{constructor(e,t,n,r){!function(e,t){for(let n=0;n<e.length;n++){const s=e[n];if(!t.hasOwnProperty(s))throw new Error(`missing converter for "${s}"`)}}(n,r),this.center=e.center,this.zoom=e.zoom;const a=new URLSearchParams(window.location.search.substring(1));if(a.has(i)){const e=function(e){if(e){const[t,n,s]=e.trim().split(","),i=parseFloat(t),r=parseFloat(n),a=parseFloat(s);if(i>0&&r>0&&a>0)return[i,r,a]}return null}(a.get(i));if(e){const[t,n,s]=e;this.center={latitude:t,longitude:n},this.zoom=s}}this.buildCriteriaMap(this.parseCriteriaMap(a,n,r)),this.debounce=new s.Debounce(t),this.lazyUpdateHandler=this.update.bind(this)}getCenter(){return this.center}setCenter(e){this.center=e,this.lazyUpdate()}getZoom(){return this.zoom}setZoom(e){this.zoom=e,this.lazyUpdate()}getCriteriaByName(e,t=null){return this.criteriaMap.hasOwnProperty(e)?this.criteriaMap[e]:t}setCriteriaMap(e){this.buildCriteriaMap(e),this.update()}buildCriteriaMap(e){const t=[];for(let n in e)if(e.hasOwnProperty(n)){const s=this.criteriaNameConverterMap[n];t.push("&"+n+"="+encodeURIComponent(s.marshal(e[n])))}this.criteriaMap=e,this.criteria=t.join("")}parseCriteriaMap(e,t,n){this.criteriaNameConverterMap=n;const s={};for(let i=0;i<t.length;i++){const r=t[i];if(e.has(r)){const t=n[r],i=decodeURIComponent(e.get(r)).trim();if(""!==i){const e=t.unmarshal(i);null!==e&&(s[r]=e)}}}return s}lazyUpdate(){this.debounce.handle(this.lazyUpdateHandler)}update(){const e=this.center.latitude+","+this.center.longitude+","+this.zoom,t=window.location.pathname+"?"+i+"="+e+this.criteria;window.history.pushState(null,"",t),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"Pageview",url:t})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Debounce=class{constructor(e){this.delay=e,this.timerId=0}handle(e){clearTimeout(this.timerId),this.timerId=setTimeout(e,this.delay)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GroupMarker=class{constructor(e){this.list=e}};t.GroupMarkerMap=class{constructor(e){this.metaClass=e,this.map={}}add(e,t,n){this.map[e]=this.map[e]||{},this.map[e][t]=this.map[e][t]||[],this.map[e][t].push(n)}fetch(e,t){const n=this.map[e][t];return new(0,this.metaClass)(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(2),i=n(1);t.CheckboxStateModifierBuilder=class{constructor(e,t,n){this.checkbox=new s.CheckboxComponent(e,t),this.className=n}build(){return this.checkbox.checked()?new(0,this.className)(this.checkbox.criteria()):new i.EmptyStateModifier}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(2),i=n(0);t.CheckboxFilterMatchBuilder=class{constructor(e,t,n){this.checkbox=new s.CheckboxComponent(e,t),this.className=n}build(){return this.checkbox.checked()?new(0,this.className)(this.checkbox.criteria()):new i.EmptyFilterMatch}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(0),i=n(1);class r{constructor(e={}){this.criteriaMap=e}getCriteriaMap(){return this.criteriaMap}}t.FilterContainer=r;t.FilterContainerBuilder=class{constructor(e,t){this.filterMatchBuilderMap=e,this.stateModifierBuilderMap=t}build(){let e=!1,t=!1,n=new s.EmptyFilterMatch,r=new i.EmptyStateModifier;const c={},l=this.filterMatchBuilderMap,u=this.stateModifierBuilderMap;for(let t in l)if(l.hasOwnProperty(t)){const i=l[t].build();if(i.empty())continue;e=!0,c[t]=i.criteria(),n=new s.MergeMatcher(n,i)}for(let e in u)if(u.hasOwnProperty(e)){const n=u[e].build();if(n.empty())continue;t=!0,c[e]=n.criteria(),r=new i.MergeModifier(r,n)}return e||t?new o(c,n,r):new a}};class a extends r{filter(e){return e}}class o extends r{constructor(e,t,n){super(e),this.matcher=t,this.modifier=n}filter(e){const t=[];for(let n=0;n<e.length;n++){const s=e[n];if(this.matcher.match(s)){const e=this.modifier.modify(s);null!==e&&t.push(e)}}return t}}t.FilledFilterContainer=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(6);t.FilledSearcher=class{constructor(e,t){this.source=e,this.filterContainerBuilder=t}search(){const e=Date.now(),t=this.filterContainerBuilder.build(),n=t.filter(this.source),i=Date.now()-e;return new s.ResultContainer(n,t.getCriteriaMap(),i)}};t.NullSearcher=class{search(){return new s.ResultContainer([],{},0)}};t.SearcherManager=class{constructor(e){this.searcher=e}search(){return this.searcher.search()}setSearcher(e){this.searcher=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor({shown:e=!1,loaded:t=!1,submit:n=!1,empty:s=!1,count:i=0}={}){this.shown=e,this.loaded=t,this.submit=n,this.empty=s,this.count=i}}t.ResultCountProps=s;t.ResultCountComponent=class{constructor(e){this.$hint=$("#js-count-hint"),this.$loader=$(".js-count-loader",this.$hint),this.$count=$(".js-count-result",this.$hint),this.$empty=$(".js-empty",this.$hint),this.$submit=$(".js-submit",this.$hint),$(".js-close",this.$hint).click(()=>this.hide()),this.$submit.click(()=>{e.submit(),this.hide()})}setTop(e){this.$hint.css("top",e)}showCount(e){this.render(new s({shown:!0,submit:e>0,empty:0===e,count:e}))}render(e){this.$hint.toggleClass("shown",e.shown),this.$loader.toggleClass("loader",e.loaded),this.$count.html(e.count),this.$empty.toggle(e.empty),this.$submit.toggle(e.submit)}hide(){this.render(new s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SubmitAction=class{constructor(e){this.handler=e}submit(){this.handler()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EmptyFilterViewBuilder=class{build(e){}};t.CallbackFilterViewBuilder=class{constructor(e){this.handler=e}build(e){(0,this.handler)(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3);window.initializeMap=s.createSyncHandler();t.Application=class{constructor(e,t,n,i,r,a,o,c){this.urlStateContainer=e,this.mapViewer=t,this.dataViewer=n,this.statsViewer=i,this.apiClient=r,this.archiver=a,this.filterContainerBuilder=o,this.filterViewBuilder=c,this.searcherManager=new s.SearcherManager(new s.NullSearcher),this.resultContainer=this.searcherManager.search()}start(){const e=this,t=this.urlStateContainer,n=this.mapViewer,i=this.archiver,r=this.apiClient,a=this.filterContainerBuilder,o=this.filterViewBuilder,c=this.searcherManager,l=new s.SyncState(function(t,r){const l=i.unzip(t);o.build(l),c.setSearcher(new s.FilledSearcher(l,a)),n.setMap(r),e.initializeSearchAndRender()});r.data(function(e){l.setData(e)},console.error),window.initializeMap.on(function(){const e=t.getCenter(),n={zoom:t.getZoom(),center:new google.maps.LatLng(e.latitude,e.longitude),mapTypeId:google.maps.MapTypeId.TERRAIN,mapTypeControl:!1},s=new google.maps.Map(document.getElementById("js-google-map"),n);l.setMap(s),s.addListener("center_changed",function(){const e=s.getCenter();t.setCenter({latitude:e.lat(),longitude:e.lng()})}),s.addListener("zoom_changed",function(){t.setZoom(s.getZoom())})})}initializeSearchAndRender(){this.search(),this.render(this.resultContainer)}searchAndRender(){this.search();const e=this.resultContainer;this.render(e),this.urlStateContainer.setCriteriaMap(e.getCriteriaMap())}searchAndCount(){return this.search(),this.resultContainer.getCount()}search(){this.resultContainer=this.searcherManager.search()}renderAfterSearch(){const e=this.resultContainer;this.render(e),this.urlStateContainer.setCriteriaMap(e.getCriteriaMap())}render(e){this.mapViewer.render(e),this.statsViewer.render(e)}renderLinks(){this.dataViewer.render(this.resultContainer)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3),i=n(20);$(document).ready(function(){const e=27,t=13,n=new s.UniqueKeyChecker,a=n.unique("vacancy-query"),c=n.unique("vacancy-city"),l=n.unique("company-review"),u=n.unique("company"),h=n.unique("vacancy-newest"),d=n.unique("vacancy-salary"),p=n.unique("company-size"),m=n.unique("company-type"),f=new s.MultiCheckboxCriteriaConverter,y=new s.IdentityCriteriaConverter,w=new s.MultiSelectCriteriaConverter,g=new s.UrlStateContainer({center:{latitude:50.4435158,longitude:30.5030242},zoom:14},500,n.keys(),{[l]:y,[a]:y,[u]:f,[c]:f,[h]:y,[d]:new s.RangeCriteriaConverter,[p]:w,[m]:w}),C=$("#js-vacancy-autocomplete"),b=$("#js-company-autocomplete"),v=$("#js-city-autocomplete"),k=$("#js-review-exists"),_=$("#js-vacancy-newest"),j=$("#js-nearest-center-companies"),x=$("#js-selected-companies"),S=$("#js-selected-cities"),A=$("#js-salary-from"),P=$("#js-salary-to"),R=$("#js-company-size-filter input"),E=$("#js-company-type-filter input"),z=new s.AutocompletedCheckboxListView(x,"company"),U=new s.AutocompletedCheckboxListView(S,"city");let H=new s.EmptyCloseComponent;const Z=new i.Application(g,new s.MapViewerManager(new r),new q(j,g),new T($("#js-result-vacancy-count"),$("#js-result-company-count"),$("#js-result-show-time")),new s.ApiClient(COMPANIES_DATA_JSON),new o,new s.FilterContainerBuilder({[l]:new O(k,g.getCriteriaByName(l)),[u]:new s.AliasFilterMatchBuilder(x),[p]:new N(R,g.getCriteriaByName(p)),[m]:new B(E,g.getCriteriaByName(m))},{[c]:new V(S),[a]:new F(C,g.getCriteriaByName(a)),[h]:new L(_,g.getCriteriaByName(h)),[d]:new I(A,P,g.getCriteriaByName(d,{}))}),new s.CallbackFilterViewBuilder(function(e){const t=new D(e);C.autocomplete({data:t.getVacancyNameMap(),onAutocomplete:function(e){Z.searchAndRender()}}),H=M.Autocomplete.getInstance(C),b.autocomplete({data:t.getCompanyNameMap(),onAutocomplete:function(e){const n=t.findCompanyAliasByName(e);z.addChecked(e,n),b.val(""),Z.searchAndRender()}}),v.autocomplete({data:t.getCityNameMap(),onAutocomplete:function(e){const n=t.findCityAliasByName(e);U.addChecked(e,n),v.val(""),Z.searchAndRender()}}),z.render(e,g.getCriteriaByName(u)),U.render(t.getCities(),g.getCriteriaByName(c)),C.attr("placeholder",function(e){const t=G(e);return G(t.vacancies).title}(e)),b.attr("placeholder",G(e).name)}));Z.start();const K=$(".js-container"),W=new s.ResultCountComponent(new s.SubmitAction(function(){Z.renderAfterSearch()})),J=function(){W.setTop($(this).offset().top-K.offset().top),W.showCount(Z.searchAndCount())},X=function(e){e.keyCode===t&&Z.searchAndRender()};k.on("change",J),_.on("change",J),R.on("change",J),E.on("change",J),x.on("change","input",J),S.on("change","input",J),A.on("keyup",X),P.on("keyup",X),$("#js-search-submit").click(function(){Z.searchAndRender()}),C.on("keyup",function(n){n.keyCode===t&&(Z.searchAndRender(),H.close()),n.keyCode===e&&H.close()}),$("#js-tabs").tabs(),$("#js-sync-list-result").click(function(){Z.renderLinks()})});class r{group(e){return function(e){const t=new s.GroupMarkerMap(a);for(let n of e)for(let e of n.offices){const s=y(e,n.vacancies);0!==s.length&&t.add(e.location.latitude,e.location.longitude,new d(n.alias,n.name,[e],s,n.review_count,n.employee_count,n.type))}return t}(e)}}class a extends s.GroupMarker{getTitle(){const e=[];for(let t of this.list)e.push(t.name);return e.join(" | ")}getContent(){const e=[];for(let t of this.list){const n=[];for(let e of t.vacancies)n.push('<a href="'+g(t.alias,e.id)+'" target="_blank">'+e.title+"</a>"+b(e.salary));const s=t.offices[0],i=`<div class="infowindow"><a class="infowindow-company" href=${C(t.alias)} target="_blank">${t.name}</a></br><p class="infowindow-address">${s.address}</p>${n.join("<br/>")}</div>`;e.push(i)}return e.join("<br/><br/>")}}class o{unzip(e){return function(e){const t=e.length,n=new Array(t);for(let s=0;s<t;s++){const t=e[s];n[s]=new d(t[0],t[1],c(t[2]),l(t[3]),t[4],t[5],t[6])}return n}(e)}}function c(e){const t=e.length,n=new Array(t);for(let s=0;s<t;s++){const t=e[s];n[s]=new m(u(t[0]),t[1],t[2])}return n}function l(e){const t=e.length,n=new Array(t);for(let s=0;s<t;s++){const t=e[s];n[s]=new f(t[0],t[1],h(t[2]),t[3],t[4],t[5])}return n}function u(e){return new p(e[0],e[1],e[2])}function h(e){return e.map(u)}class d{constructor(e,t,n,s,i,r,a){this.alias=e,this.name=t,this.offices=n,this.vacancies=s,this.review_count=i,this.employee_count=r,this.type=a}}class p{constructor(e,t,n){this.alias=e,this.name=t,this.origin=n}}class m{constructor(e,t,n){this.city=e,this.address=t,this.location=new s.Location(n[0],n[1])}}class f{constructor(e,t,n,s,i,r){this.id=e,this.title=t,this.cities=n,this.existsOffice=s,this.salary=i,this.published=r}}function y(e,t){const n=[];for(let s=0;s<t.length;s++){const i=t[s];(!1===i.existsOffice||w(i.cities,[e.city]))&&n.push(i)}return n}function w(e,t){for(let i=0;i<t.length;i++)for(let r=0;r<e.length;r++)if(n=e[r],s=t[i],n.alias===s.alias||n.origin===s.origin)return!0;var n,s;return!1}function g(e,t){return`https://jobs.dou.ua/companies/${e}/vacancies/${t}/`}function C(e){return`https://jobs.dou.ua/companies/${e}/`}function b(e){return e?" ("+e+")":""}class v extends s.FilledFilterMatch{match(e){return e.review_count>0}}class k extends s.MultiSelectFilterMatch{match(e){return this.aliasMap.hasOwnProperty(e.employee_count)}}class _ extends s.MultiSelectFilterMatch{match(e){return this.aliasMap.hasOwnProperty(e.type)}}class j extends s.FilledStateModifier{constructor(e,t){super(e),this.matcher=t}modify(e){const t=[],n=this.matcher;for(let s=0;s<e.vacancies.length;s++){const i=e.vacancies[s];n(i)&&t.push(i)}return t.length>0?new d(e.alias,e.name,e.offices,t,e.review_count,e.employee_count,e.type):null}}class x extends j{constructor(e){const t=e.toLowerCase();super(e,function(e){return-1!==e.title.toLowerCase().indexOf(t)})}}class S extends j{constructor(e){let{from:t,to:n}=e;0===n&&(n=Number.MAX_SAFE_INTEGER),super(e,function(e){return""!==e.salary&&function(e,t,n){const s=e.split("â€“"),i=[];for(let e=0;e<s.length;e++){const r=parseInt(s[e].replace(/\D/g,""),10);if(A(t,n,r))return!0;i.push(r)}1===i.length&&(i[1]=i[0]);return A(i[0],i[1],t)||A(i[0],i[1],n)}(e.salary,t,n)})}}function A(e,t,n){return e<=n&&n<=t}class O extends s.CheckboxFilterMatchBuilder{constructor(e,t){super(e,t,v)}}class P{constructor(e,t,n){if(null!==t){const n=s.createAliasMap(t);e.each(function(){const e=$(this),t=e.attr("data-alias");n.hasOwnProperty(t)&&e.attr("checked","checked")})}this.$checkboxes=e,this.className=n}build(){return s.buildFilterMatchByCheckboxes(this.$checkboxes,this.className)}}class N extends P{constructor(e,t){super(e,t,k)}}class B extends P{constructor(e,t){super(e,t,_)}}class F{constructor(e,t){this.$element=e,null!==t&&this.$element.val(t)}build(){const e=this.$element.val();return e.length>0?new x(e):new s.EmptyStateModifier}}class R extends s.FilledStateModifier{constructor(e,t,n){super(e),this.aliasMap=s.createAliasMap(t),this.state=n}modify(e){const t=[],n=[];for(let s=0;s<e.offices.length;s++){const i=e.offices[s];this.aliasMap.hasOwnProperty(i.city.alias)===this.state&&(t.push(i),n.push(i.city))}if(0===t.length)return null;const s=[];for(let t=0;t<e.vacancies.length;t++){const i=e.vacancies[t];(!1===i.existsOffice||w(i.cities,n))&&s.push(i)}return 0===s.length?null:new d(e.alias,e.name,t,s,e.review_count,e.employee_count,e.type)}}class V{constructor(e){this.$element=e}build(){const e=s.createAliasStateMapByCheckboxes($("input",this.$element));return e.selected.length?new R(e.aliasStateMap,e.selected,!0):e.disabled.length?new R(e.aliasStateMap,e.disabled,!1):new s.EmptyStateModifier}}function E(e){return e>9?e:"0"+e}class z extends j{constructor(e){const t=function(e){const t=864e5*e,n=new Date;return n.setTime(n.getTime()-t),`${n.getFullYear()}-${E(n.getMonth()+1)}-${E(n.getDate())}`}(7);super(e,function(e){return e.published>=t})}}class L extends s.CheckboxStateModifierBuilder{constructor(e,t){super(e,t,z)}}class I{constructor(e,t,{from:n,to:s}={from:0,to:0}){this.$salaryFrom=e,this.$salaryTo=t,n>0&&this.$salaryFrom.val(n),s>0&&this.$salaryTo.val(s)}build(){const e=parseInt(this.$salaryFrom.val()||"0",10),t=parseInt(this.$salaryTo.val()||"0",10);return isNaN(e)||isNaN(t)||e<0||t<0||e>t&&t>0||0===e&&0===t?new s.EmptyStateModifier:new S({from:e,to:t})}}class T{constructor(e,t,n){this.$vacancyCount=e,this.$companyCount=t,this.$duration=n}render(e){this.$duration.html(e.getDuration()),this.$vacancyCount.html(function(e){const t=e.getResult();let n=0;for(let e=0;e<t.length;e++)n+=t[e].vacancies.length;return n}(e)),this.$companyCount.html(e.getCount())}}class D{constructor(e){const t={},n={},s={},i={},r={},a=[];for(let o=0;o<e.length;o++){const c=e[o];t[c.name]=null,i[c.name]=c.alias;const l=c.vacancies;for(let e=0;e<l.length;e++){const t=l[e];n[t.title]=null;for(let e=0;e<t.cities.length;e++){const n=t.cities[e];""!==n.alias&&!1===s.hasOwnProperty(n.name)&&(s[n.name]=null,r[n.name]=n.alias,a.push(n))}}}this.companyNameMap=t,this.vacancyNameMap=n,this.cityNameMap=s,this.companyNameAliasMap=i,this.cityNameAliasMap=r,this.cities=a}getCompanyNameMap(){return this.companyNameMap}getCityNameMap(){return this.cityNameMap}getCities(){return this.cities}getVacancyNameMap(){return this.vacancyNameMap}findCompanyAliasByName(e){return this.companyNameAliasMap.hasOwnProperty(e)?this.companyNameAliasMap[e]:""}findCityAliasByName(e){return this.cityNameAliasMap.hasOwnProperty(e)?this.cityNameAliasMap[e]:""}}class q{constructor(e,t){this.$element=e,this.urlStateContainer=t}render(e){const t=e.getResult(),n=this.urlStateContainer.getCenter();t.sort(function(e,t){return s.distance(e.offices[0].location,n)-s.distance(t.offices[0].location,n)});const i=[],r=Math.min(t.length,20);for(let e=0;e<r;e++)i.push(U(t[e]));this.$element.html(i.join(""))}}function U(e){const t=[];for(let n=0;n<e.vacancies.length;n++){const s=e.vacancies[n];t.push(`<p><a href="${g(e.alias,s.id)}" target="_blank">${s.title}</a></p>`)}return`\n        <div class="row">\n            <div class="col s12 work-block z-depth-2 card-panel hoverable">\n                <div class="col s12 header">\n                    <div class="title"><a href="${C(e.alias)}" target="_blank">${e.name}</a></div>\n                </div>\n                <div class="col s12 message">\n                    ${t.join("")}\n                </div>\n            </div>\n        </div>\n    `}function G(e){const t=e.length-1;return e[Math.floor(Math.random()*t)]}}]);